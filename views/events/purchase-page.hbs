<h1>{{tour.artist_name}} - {{tour.tour_name}}</h1>
<h2>{{venue.city}}, {{venue.venue_name}} <button id="change-city-btn" class="btn btn-primary">Change</button></h2>

<form method="get" id="filters" class="d-flex flex-column align-items-center">
    <div>
        {{#each venueDates}}
            <div class="form-check form-check-inline">
                <input type="checkbox" class="form-check-input" id="date-check-{{this.date_id}}" name="date" value="{{this.date_id}}">
                <label for="date-check-{{this.date_id}}">
                    {{formatDate this.date 'E do LLLL'}}
                </label>
            </div>
        {{/each}}
    </div>

    

    <h3 style="display: inline-block">Tickets</h3>
    <div class="d-flex">
        <button type="button" id="decrease-tickets" class="btn btn-outline-primary">-</button>
        <input type="number" name="qty" value="2" hidden>
        <span id="qty-span" class="card text-center justify-content-center" style="width: 50px"></span>
        <div>
            <button type="button" id="increase-tickets" class="btn btn-outline-primary">+</button>
            <p class="opacity-0">Maximum ticket quantity reached</p>
        </div>
        {{!-- <p class="comment">Want to add a lil tooltip when this button is disabled that says max tickets reached or smth</p> --}}
    </div>
</form>

<div id="available-tickets" class="m-auto w-75"></div>

<div id="change-city-modal" class="modal flex-column {{#if venueSelected}}d-none{{else}}d-flex{{/if}}">
    {{> city-cards}}
</div>

<div id="select-seats-modal" class="modal"></div>

<footer class="fixed-bottom d-flex justify-content-center align-items-center py-2 bg-secondary">
    <p class="my-0 me-1 text-white">Don't see anything you like?</p>
    <form id="#waiting-list-form-footer" action="/events/tour/{{tour.tour_id}}/waiting-list" method="get">
        <input name="venue" value="{{venue.venue_id}}" hidden>
        <input name="dates" hidden>
        <button class="btn btn-dark ms-1">Join the waiting List</button>
    </form>
</footer>

{{log isSaleSlot}}

<meta name="user-id" content="{{req.user.user_id}}">
<meta name="tour-id" content="{{tour.tour_id}}">
<meta name="max-tickets" content="{{maxTickets}}">

<script type="module" src="/js/purchase-page.js"></script> <!--https://stackoverflow.com/a/55310399-->